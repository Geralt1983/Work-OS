Based on image 42726.jpg, the visual hierarchy in your Chat interface is indeed "off."
 * User Bubbles (Blue): The text color is white, but the blue background has a heavy cyan glow (shadow-glow-cyan) that makes it look blurry and over-processed, especially for a simple text message.
 * AI Bubbles (Purple/Gray): These are actually looking decent, but the alignment feels a bit floating.
 * Spacing: The gap between messages is a bit tight, making the conversation feel cramped.
Let's refine the Chat Message component to be cleaner, sharper, and less "neon blurry." I will reduce the glow intensity and fix the spacing.
Update client/src/components/ChatMessage.tsx
import { motion } from "framer-motion";
import { Avatar, AvatarFallback } from "@/components/ui/avatar";
import { Badge } from "@/components/ui/badge";
import { Sparkles, User } from "lucide-react";
import { format } from "date-fns";

export interface ChatMessageProps {
  role: "user" | "assistant";
  content: string;
  timestamp: Date;
  imagesBase64?: string[];
  taskCard?: {
    title: string;
    taskId: string;
    status: string;
    dueDate?: string;
  };
}

const springTransition = {
  type: "spring",
  stiffness: 400,
  damping: 30,
};

export default function ChatMessage({ role, content, timestamp, imagesBase64, taskCard }: ChatMessageProps) {
  const isUser = role === "user";
  // Clean up image tags from display text
  const displayContent = content.replace(/\[Image(?:s)? attached\]\n?/g, "").trim();

  return (
    <div className={`flex gap-3 sm:gap-4 ${isUser ? "flex-row-reverse" : "flex-row"} mb-2`}>
      {/* Avatar */}
      <motion.div
        initial={{ scale: 0 }}
        animate={{ scale: 1 }}
        transition={springTransition}
        className="shrink-0"
      >
        <Avatar className={`h-8 w-8 sm:h-9 sm:w-9 border border-white/10 ${isUser ? 'shadow-sm' : 'shadow-glow-purple'}`}>
          <AvatarFallback className={`${isUser ? "bg-cyan-600 text-white" : "bg-purple-600 text-white"}`}>
            {isUser ? <User className="h-4 w-4" /> : <Sparkles className="h-4 w-4" />}
          </AvatarFallback>
        </Avatar>
      </motion.div>

      {/* Content Wrapper */}
      <div className={`flex flex-col gap-1.5 max-w-[85%] sm:max-w-[75%] ${isUser ? "items-end" : "items-start"}`}>
        
        {/* Images Grid */}
        {imagesBase64 && imagesBase64.length > 0 && isUser && (
          <motion.div 
            initial={{ opacity: 0, scale: 0.95 }}
            animate={{ opacity: 1, scale: 1 }}
            transition={springTransition}
            className="flex flex-wrap gap-2 justify-end mb-1"
          >
            {imagesBase64.map((img, index) => (
              <div key={index} className="relative rounded-xl overflow-hidden border border-white/10 shadow-md group">
                <img 
                  src={`data:image/jpeg;base64,${img}`} 
                  alt={`Uploaded ${index + 1}`} 
                  className="max-w-[120px] max-h-[120px] object-cover transition-transform group-hover:scale-105"
                />
              </div>
            ))}
          </motion.div>
        )}

        {/* Message Bubble - REFINED STYLES */}
        {displayContent && (
            <motion.div
            initial={{ opacity: 0, scale: 0.95, y: 5 }}
            animate={{ opacity: 1, scale: 1, y: 0 }}
            transition={springTransition}
            className={`relative rounded-2xl px-4 py-3 text-[15px] leading-relaxed shadow-sm ${
                isUser
                /* User Bubble: Darker Cyan/Blue background, subtle border, crisp white text */
                ? "bg-[#0e4e68] border border-[#1a6f91] text-white rounded-tr-sm"
                /* AI Bubble: Dark glass, subtle border, silver text */
                : "bg-[#1a1b26] border border-white/10 text-slate-200 rounded-tl-sm"
            }`}
            >
            <p className="whitespace-pre-wrap break-words font-normal tracking-wide">
                {displayContent}
            </p>
            </motion.div>
        )}

        {/* Task Card (AI Only) */}
        {taskCard && !isUser && (
          <motion.div
            initial={{ opacity: 0, y: 10 }}
            animate={{ opacity: 1, y: 0 }}
            transition={{ ...springTransition, delay: 0.1 }}
            className="w-full mt-1"
          >
            <div className="bg-[#151520] border border-white/10 rounded-xl p-3.5 shadow-lg hover:border-purple-500/30 transition-colors group">
                <div className="flex items-start justify-between gap-3">
                    <p className="font-medium text-sm text-white/90 group-hover:text-purple-200 transition-colors">
                        {taskCard.title}
                    </p>
                    <Badge variant="secondary" className="text-[10px] h-5 bg-purple-500/20 text-purple-300 border-purple-500/30 uppercase tracking-wider shrink-0">
                        {taskCard.status}
                    </Badge>
                </div>
                <div className="flex items-center gap-3 mt-2 text-xs text-muted-foreground">
                    <code className="font-mono bg-black/40 px-1.5 py-0.5 rounded text-white/50 border border-white/5">
                        {taskCard.taskId}
                    </code>
                    {taskCard.dueDate && (
                        <span className="text-cyan-400/80 flex items-center gap-1">
                            Due: {taskCard.dueDate}
                        </span>
                    )}
                </div>
            </div>
          </motion.div>
        )}

        {/* Timestamp */}
        <span className="text-[10px] text-slate-500 font-medium px-1 opacity-0 group-hover:opacity-100 transition-opacity select-none">
          {format(timestamp, "h:mm a")}
        </span>
      </div>
    </div>
  );
}

Key Visual Changes:
 * User Bubble: Switched from the blurry gradient to a solid Deep Teal/Cyan (bg-[#0e4e68]). It retains the color identity but removes the "neon fuzz," making the text much sharper.
 * Shape: Added a small "tail" effect (e.g., rounded-tr-sm) to visually anchor which side the message is coming from.
 * Spacing: Reduced gap between avatar and bubble, and added a cleaner vertical rhythm.
 * Task Card: Tightened up the task card design to look like a "widget" rather than just another bubble.
